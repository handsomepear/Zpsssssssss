<view class="withdraw-page">
    <view class="remain">
        <view class="remain-title">橘子余额</view>
        <view class="remain-num">
            <text>13</text>
            个
            <image class="juzi-img" src="/static/imgs/juzi.png" />
        </view>
    </view>
    <view class="container">
        <view class="title">橘子提现</view>
        <radio-group bindchange="chooseWithDrawType">
            <view class="withdraw-type">
                <label for="">
                    <view class="item">
                        <radio value="0" color="#ff6c00" checked="{{true}}"  class="withdraw-radio"></radio>
                        <text>60个（约10斤）包邮</text>
                    </view>
                </label>
                <label for="">
                    <view class="item">
                        <radio value="1" color="#ff6c00"  class="withdraw-radio"></radio>
                        <text>自付邮费</text>
                    </view>
                </label>
            </view>
        </radio-group>
        <!-- <view class="remain-desc">现有13个，需要再购买47个，约12.5元</view> -->
        <view class="remain-input" wx:if="{{isSelf}}">
            <text>提现橘子</text>
            <input type="number" value="{{withdrawNum}}" wx:if="{{!isShowAddrPanel}}" bindblur="setWithdrawNum" />
            <text>个</text>
            <text class="postage">（邮费10元）</text>
        </view>
        <view class="withdraw-btn" bindtap="widthDraw">购买，包邮提现</view>
        <view class="address-entry" bindtap="openAddressPanel">收货地址 ></view>
        <view class="address-info" wx:if="{{addrInfo}}">
            <view class="addr-item addr-name">
                <text>收货人：</text>
                {{addrInfo.userName}}
            </view>
            <view class="addr-item addr-phone">
                <text>电话号码：</text>
                {{addrInfo.telNumber}}
            </view>
            <view class="addr-item addr-name">
                <text>详细地址：</text>
                {{addrInfo.region[0]}}{{addrInfo.region[1]}}{{addrInfo.region[2]}}{{addrInfo.detailInfo}}
            </view>
        </view>
    </view>
    <!-- 收货地址面板 -->
    <view class="addr-edit-modal" wx:if="{{isShowAddrPanel}}" bindtap="closeAddressPanel">
        <form bindsubmit="setAddress">
            <view class="addr-edit-panel" catchtap="stopPropagation">
                <view class="close-btn" bindtap="closeAddressPanel">+</view>
                <view wx:if="{{hasAddrInfo}}" class="addr-edit-title">是否使用该收货地址</view>
                <view wx:else class="addr-edit-title">请填写收货信息</view>
                <view class="item flex">
                    <view class="name">
                        <view class="head">收件人</view>
                        <input type="text" name="userName" value="{{addrInfo.userName}}" />
                    </view>
                    <view class="phone">
                        <view class="head">联系电话</view>
                        <input type="number" name="telNumber" value="{{addrInfo.telNumber}}" />
                    </view>
                </view>
                <view class="item">
                    <view class="head">收货地址</view>
                    <picker mode="region" name="region" bindchange="bindRegionChange" value="{{addrInfo.region}}">
                        <view class="picker">
                            <view class="region">
                                <text>{{addrInfo.region[0]}}</text>
                                <text>{{addrInfo.region[1]}}</text>
                                <text>{{addrInfo.region[2]}}</text>
                            </view>
                        </view>
                    </picker>
                </view>
                <view class="item">
                    <view class="head">详细地址</view>
                    <input type="text" name="detailInfo" value="{{addrInfo.detailInfo}}" />
                </view>
                <view class="confirm-radio" bindtap="toggleConfirmAddress">
                    <radio value="none" color="#ff6c00" checked="{{isConfirmAddress}}" class="withdraw-radio"></radio>
                    <text>我已经确认以上所有信息填写正确</text>
                </view>
                <view class="addr-options">
                    <button class="btn" form-type="submit" plain="{{true}}">确定</button>
                </view>
            </view>
        </form>
    </view>
</view>